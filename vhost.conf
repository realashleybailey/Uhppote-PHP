<VirtualHost *:80>
                ServerAdmin admin@ashleybailey.me
                ServerName ashleybailey.me
                ServerAlias dev.ashleybailey.me

                DocumentRoot /var/www/Uhppote-PHP/public_html/

                                <Directory /var/www/public-html/>
                        Options Indexes FollowSymLinks
                        AllowOverride All
                        Require all granted
                        Header set Access-Control-Allow-Origin "https://kiosk.ashleybailey.me"
                </Directory>
</VirtualHost>

<IfModule mod_ssl.c>
	<VirtualHost *:443>
                ServerAdmin admin@ashleybailey.me
                ServerName ashleybailey.me
                ServerAlias dev.ashleybailey.me

                DocumentRoot /var/www/public-html/

                <Directory /var/www/public-html/>
                        Options Indexes FollowSymLinks
                        AllowOverride All
                        Require all granted
                        Header set Access-Control-Allow-Origin "https://kiosk.ashleybailey.me"
                </Directory>

                LogLevel info ssl:warn

                ErrorLog ${APACHE_LOG_DIR}/error.log
                CustomLog ${APACHE_LOG_DIR}/access.log combined

                RedirectMatch https://ashleybailey.me/uploads(.*)   https://cdn.ashleybailey.me/uploads$1
                RedirectMatch https://ashleybailey.me/img(.*)       https://cdn.ashleybailey.me/img$1
                RedirectMatch https://ashleybailey.me/css(.*)       https://cdn.ashleybailey.me/css$1
                RedirectMatch https://ashleybailey.me/js(.*)        https://cdn.ashleybailey.me/js$1

                SSLEngine on
                SSLCertificateFile "/etc/apache2/ssl/ashleybailey.me/cert.pem"
                SSLCertificateChainFile "/etc/apache2/ssl/ashleybailey.me/chain.pem"
                SSLCertificateKeyFile "/etc/apache2/ssl/ashleybailey.me/privkey.pem"

                #SSLCertificateChainFile /etc/apache2/ssl.crt/server-ca.crt
                #SSLCACertificatePath /etc/ssl/certs/
                #SSLCACertificateFile /etc/apache2/ssl.crt/ca-bundle.crt
                #SSLCARevocationPath /etc/apache2/ssl.crl/
                #SSLCARevocationFile /etc/apache2/ssl.crl/ca-bundle.crl
                #SSLVerifyClient require
                #SSLVerifyDepth  10

                <FilesMatch "\.(cgi|shtml|phtml|php)$">
                                SSLOptions +StdEnvVars
                </FilesMatch>
                <Directory /usr/lib/cgi-bin>
                                SSLOptions +StdEnvVars
                </Directory>

                SSLProxyEngine on

                SSLProxyVerify none
                SSLProxyCheckPeerCN off
                SSLProxyCheckPeerName off
                SSLProxyCheckPeerExpire off

                ProxyPass /LiveApp/ https://192.168.0.34:5443/LiveApp/
                ProxyPassReverse /LiveApp/ https://192.168.0.34:5443/LiveApp/

                ProxyPass /WebRTCApp/ https://192.168.0.34:5443/WebRTCApp/
                ProxyPassReverse /WebRTCApp/ https://192.168.0.34:5443/WebRTCApp/

                ProxyPass /UserData/ http://192.168.0.35/user-data/
                ProxyPassReverse /UserData/ http://192.168.0.35/user-data/
	</VirtualHost>
</IfModule>